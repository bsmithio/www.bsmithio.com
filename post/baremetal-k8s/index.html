<!doctype html><html lang=en data-figures=true class=page data-mode=dim>
<head>
<title>How to Set Up a Bare Metal Kubernetes Cluster with MetalLB | bsmithio</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta http-equiv=x-ua-compatible content="IE=edge">
<script async src="https://www.googletagmanager.com/gtag/js?id=XXXXXXXXXX"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','XXXXXXXXXX')</script>
<meta property="og:locale" content="en">
<meta property="og:type" content="article">
<meta name=description content="How to Set Up Kuberenetes Bare Metal Cluster with MetalLB">
<meta name=twitter:card content="summary">
<meta name=twitter:creator content>
<meta name=twitter:title content="How to Set Up a Bare Metal Kubernetes Cluster with MetalLB">
<meta property="og:url" content="/post/baremetal-k8s/">
<meta property="og:title" content="How to Set Up a Bare Metal Kubernetes Cluster with MetalLB">
<meta property="og:description" content="How to Set Up Kuberenetes Bare Metal Cluster with MetalLB">
<meta property="og:image" content="/post/baremetal-k8s/k8s.png">
<link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/icons/favicon-32x32.png>
<link rel=manifest href=/icons/site.webmanifest>
<link rel=canonical href=/post/baremetal-k8s/>
<link rel=preload href=/css/styles.01869c76e4757810d94ecbdccadba853d9d01d9416dfeb113df02e1479ff8b36e284e8bfeb3e8f353f2fdcdcbbdfcf27e558dbda96eb6341bfc304d55cd9e986.css integrity="sha512-AYacduR1eBDZTsvcytuoU9nQHZQW3+sRPfAuFHn/izbihOi/6z6PNT8v3Ny7388n5Vjb2pbrY0G/wwTVXNnphg==" as=style crossorigin=anonymous>
<link rel=preload href=/js/bundle.min.061d04727b51b0a8fafe2f15b9370a961f33306e7af52abd00d69c906f5d825f1599306159d7756d7d2b4f359767a170625ae541d1f37d05c1daa4d5c7feec25.js as=script integrity="sha512-Bh0EcntRsKj6/i8VuTcKlh8zMG569Sq9ANackG9dgl8VmTBhWdd1bX0rTzWXZ6FwYlrlQdHzfQXB2qTVx/7sJQ==" crossorigin=anonymous>
<link rel=stylesheet type=text/css href=/css/styles.01869c76e4757810d94ecbdccadba853d9d01d9416dfeb113df02e1479ff8b36e284e8bfeb3e8f353f2fdcdcbbdfcf27e558dbda96eb6341bfc304d55cd9e986.css integrity="sha512-AYacduR1eBDZTsvcytuoU9nQHZQW3+sRPfAuFHn/izbihOi/6z6PNT8v3Ny7388n5Vjb2pbrY0G/wwTVXNnphg==" crossorigin=anonymous><link rel=stylesheet href=/css/custom.css>
</head>
<body data-code=100 data-lines=false id=documentTop>
<header class=nav_header>
<nav class=nav><a href=/ class="nav_brand nav_item" title=bsmithio>bsmithio
<div class=nav_close>
<div><svg class="icon"><use xlink:href="#open-menu"/></svg><svg class="icon"><use xlink:href="#closeme"/></svg></div>
</div>
</a>
<div class="nav_body nav_body_left">
<div class=nav_parent>
<a href=/ class=nav_item title=Home>Home </a>
</div>
<div class=nav_parent>
<a href=/archives/ class=nav_item title=Archives>Archives </a>
</div>
<div class=nav_parent>
<a href=/about/ class=nav_item title=About>About </a>
</div>
<div class=follow>
<a href=https://github.com/bsmithio><svg class="icon"><use xlink:href="#github"/></svg>
</a>
<a href=https://www.linkedin.com/in/bsmithio><svg class="icon"><use xlink:href="#linkedin"/></svg>
</a>
<a href=/index.xml><svg class="icon"><use xlink:href="#rss"/></svg>
</a>
<div class=color_mode>
<input type=checkbox class=color_choice id=mode>
</div>
</div>
</div>
</nav>
</header>
<main>
<div class="grid-inverse wrap content">
<article class=post_content>
<h1 class=post_title>How to Set Up a Bare Metal Kubernetes Cluster with MetalLB</h1>
<div class=post_meta>
<span><svg class="icon"><use xlink:href="#calendar"/></svg></span>
<span class=post_date>
Jan 15, 2022</span>
<span class=post_time> · 8 min read</span><span>&nbsp;· <a href=/tags/kubernetes title=Kubernetes class="post_tag button button_translucent">Kubernetes
</a>
</span>
</div>
<div class=post_toc>
<h2>Overview</h2>
<nav id=TableOfContents>
<ul>
<li><a href=#install-docker>Install Docker</a>
<ul>
<li><a href=#uninstall-old-versions-of-docker>Uninstall Old Versions of Docker</a></li>
<li><a href=#setup-the-repository>Setup The Repository</a></li>
<li><a href=#setup-docker-daemon>Setup Docker Daemon</a></li>
</ul>
</li>
<li><a href=#install-kubeadm-kubelet-and-kubectl>Install kubeadm, kubelet, and kubectl</a></li>
<li><a href=#initialize-cluster-with-kubeadm>Initialize Cluster with kubeadm</a></li>
<li><a href=#start-using-your-cluster>Start Using Your Cluster</a></li>
<li><a href=#install-the-network-overlay>Install the Network Overlay</a></li>
<li><a href=#single-node-testing-optional>Single Node Testing #Optional</a></li>
<li><a href=#join-worker-nodes>Join Worker Nodes</a></li>
<li><a href=#metallb>MetalLB</a></li>
<li><a href=#ingresses>Ingresses</a>
<ul>
<li><a href=#install-the-ingress-controller>Install the Ingress Controller</a></li>
<li><a href=#create-a-test-app>Create a Test App</a></li>
<li><a href=#create-ingress-resource>Create Ingress Resource</a></li>
<li><a href=#view-the-web-page>View the Web Page</a></li>
<li><a href=#enable-tls>Enable TLS</a></li>
</ul>
</li>
<li><a href=#conclusion>Conclusion</a></li>
<li><a href=#extras>Extras</a>
<ul>
<li><a href=#external-dns>external-dns</a></li>
<li><a href=#cert-manager>cert-manager</a></li>
<li><a href=#k8s_gateway>k8s_gateway</a></li>
</ul>
</li>
<li><a href=#resources>Resources</a></li>
</ul>
</nav>
</div>
<div class=post_body><p>In this guide I will show you how to set up your own Kubernetes cluster! at home. As well as how to configure an Ingress and Load Balancer so you can access your services outside of the cluster. This guide assumes you're running Ubuntu 20.04.</p>
<h2 id=install-docker>Install Docker</h2>
<p>You will need to install Docker on each Kubernetes node in your cluster. Docker is our container runtime for the cluster, there are other options, but we'll use Docker for this guide. To install Docker on Ubuntu run the following commands:</p>
<h3 id=uninstall-old-versions-of-docker>Uninstall Old Versions of Docker</h3>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>sudo apt-get remove docker docker-engine docker.io containerd runc
</code></pre></div><h3 id=setup-the-repository>Setup The Repository</h3>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>sudo apt-get update
<span class=ln>2</span>
<span class=ln>3</span>sudo apt-get install <span class=se>\
</span><span class=ln>4</span><span class=se></span>    ca-certificates <span class=se>\
</span><span class=ln>5</span><span class=se></span>    curl <span class=se>\
</span><span class=ln>6</span><span class=se></span>    gnupg <span class=se>\
</span><span class=ln>7</span><span class=se></span>    lsb-release <span class=se>\
</span><span class=ln>8</span><span class=se></span>    software-properties-common <span class=se>\
</span><span class=ln>9</span><span class=se></span>    apt-transport-https
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>curl -fsSL https://download.docker.com/linux/ubuntu/gpg <span class=p>|</span> sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span><span class=nb>echo</span> <span class=se>\
</span><span class=ln>2</span><span class=se></span><span class=s2>&#34;deb [arch=</span><span class=k>$(</span>dpkg --print-architecture<span class=k>)</span><span class=s2> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
</span><span class=ln>3</span><span class=s2></span><span class=k>$(</span>lsb_release -cs<span class=k>)</span><span class=s2> stable&#34;</span> <span class=p>|</span> sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>sudo apt-get update
<span class=ln>2</span>
<span class=ln>3</span>sudo apt-get install docker-ce docker-ce-cli containerd.io
</code></pre></div><h3 id=setup-docker-daemon>Setup Docker Daemon</h3>
<p>You will need to change the Docker daemon to use systemd for cgroup management. To do so run:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>cat <span class=s>&lt;&lt;EOF | sudo tee /etc/docker/daemon.json
</span><span class=ln>2</span><span class=s>{ 
</span><span class=ln>3</span><span class=s>  &#34;exec-opts&#34;: [&#34;native.cgroupdriver=systemd&#34;],
</span><span class=ln>4</span><span class=s>  &#34;log-driver&#34;: &#34;json-file&#34;,
</span><span class=ln>5</span><span class=s>  &#34;log-opts&#34;: { &#34;max-size&#34;: &#34;50m&#34; },
</span><span class=ln>6</span><span class=s>  &#34;storage-driver&#34;: &#34;overlay2&#34; 
</span><span class=ln>7</span><span class=s>} 
</span><span class=ln>8</span><span class=s>EOF</span>
</code></pre></div><p>Now, enable and restart docker by running:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>sudo systemctl <span class=nb>enable</span> docker
<span class=ln>2</span>
<span class=ln>3</span>sudo systemctl daemon-reload
<span class=ln>4</span>
<span class=ln>5</span>sudo systemctl restart docker
</code></pre></div><h2 id=install-kubeadm-kubelet-and-kubectl>Install kubeadm, kubelet, and kubectl</h2>
<p>Kubeadm allows us to quickly and easily create a Kubernetes cluster. Kubectl is the CLI tool that we will use to configure everything in our cluster. Kubelet is an agent that runs on each node and ensures that containers are running in pods.</p>
<p>To install these, run the following commands:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>sudo curl -fsSLo /usr/share/keyrings/kubernetes-archive-keyring.gpg https://packages.cloud.google.com/apt/doc/apt-key.gpg
<span class=ln>2</span>
<span class=ln>3</span><span class=nb>echo</span> <span class=s2>&#34;deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main&#34;</span> <span class=p>|</span> sudo tee /etc/apt/sources.list.d/kubernetes.list
<span class=ln>4</span>
<span class=ln>5</span>sudo apt-get update 
<span class=ln>6</span>sudo apt-get install -y kubelet kubeadm kubectl 
<span class=ln>7</span>sudo apt-mark hold kubelet kubeadm kubectl
</code></pre></div><h2 id=initialize-cluster-with-kubeadm>Initialize Cluster with kubeadm</h2>
<p>After everything has installed, we'll use kubeadm to initialize the cluster. This will make this server the master node of the cluster. To do so, run:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>sudo kubeadm init --pod-network-cidr<span class=o>=</span>10.244.0.0/16
</code></pre></div><p>The pod network CIDR must be 10.244.0.0/16 for our network overlay to work properly. I will say it is possible to change this though, I had success following this guide: <a href=https://serverfault.com/questions/976513/is-it-possible-to-change-cidr-network-flannel-and-kubernetes>Is it possible to change CIDR network flannel and Kubernetes - Server Fault</a></p>
<h2 id=start-using-your-cluster>Start Using Your Cluster</h2>
<p>After you've initialized your cluster, you have two options. You can manage your cluster as root, or as a regular user.</p>
<p>To manage your cluster as a regular user, run the the following commands:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>mkdir -p <span class=nv>$HOME</span>/.kube
<span class=ln>2</span>sudo cp -i /etc/kubernetes/admin.conf <span class=nv>$HOME</span>/.kube/config
<span class=ln>3</span>sudo chown <span class=k>$(</span>id -u<span class=k>)</span>:<span class=k>$(</span>id -g<span class=k>)</span> <span class=nv>$HOME</span>/.kube/config
</code></pre></div><p>To manage your cluster as root, run the following command:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span><span class=nb>export</span> <span class=nv>KUBECONFIG</span><span class=o>=</span>/etc/kubernetes/admin.conf
</code></pre></div><h2 id=install-the-network-overlay>Install the Network Overlay</h2>
<p>Next we need to install a network overlay for our cluster. You can learn more about Kubernetes cluster networking at <a href=https://kubernetes.io/docs/concepts/cluster-administration/networking/>Cluster Networking | Kubernetes</a>.
We'll install the Flannel network overlay to our cluster, as it is one of the simplest overlay networks to use that satisfies Kubernetes requirements. To install it run</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
</code></pre></div><h2 id=single-node-testing-optional>Single Node Testing #Optional</h2>
<p>If you only wish to test and run pods with a single host, or you want to allow the master node to run pods, you will need to remove the NoSchedule taint from the master node.
To do so run this command on your master node:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubectl taint node &lt;nodehostname&gt; node-role.kubernetes.io/master:NoSchedule-
</code></pre></div><p>It is not advisable to remove the NoSchedule taint on the master node in a multi node cluster, because the worker nodes rely on the master node for instructions. If anything were to cause the master node to become unavailable, new pods would not be able to be scheduled on worker nodes, nor would they be able to respond to failing pods.</p>
<h2 id=join-worker-nodes>Join Worker Nodes</h2>
<p>The first thing you will want to do on a fresh worker node is follow the Install Docker and Install kubeadm, kubelet, and kubectl sections again.</p>
<p>After you've done so, to join worker nodes to your cluster you will run the join command that is provided after you first initialized your cluster. If you didn't manage to copy it, no worries, you can regenerate a new join command on your master node like so:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubeadm token create --print-join-command
</code></pre></div><p>It will look something like this</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubeadm join &lt;master-host&gt;:&lt;master-api-port&gt; --token &lt;token&gt; <span class=se>\ </span>
<span class=ln>2</span>--discovery-token-ca-cert-hash sha256:&lt;hash&gt;
</code></pre></div><h2 id=metallb>MetalLB</h2>
<p>Currently Kubernetes does not provide an implementation of a network load balancer for bare metal clusters, so MetalLB comes to the rescue for us bare metal users.</p>
<p>To install MetalLB on your cluster, we'll use Helm. We will install Helm on our master node by running the following commands:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>curl https://baltocdn.com/helm/signing.asc <span class=p>|</span> sudo apt-key add -
<span class=ln>2</span><span class=nb>echo</span> <span class=s2>&#34;deb https://baltocdn.com/helm/stable/debian/ all main&#34;</span> <span class=p>|</span> sudo tee /etc/apt/sources.list.d/helm-stable-debian.list
<span class=ln>3</span>sudo apt-get update
<span class=ln>4</span>sudo apt-get install helm
</code></pre></div><p>After Helm is installed, to install MetalLB on the cluster, we'll first need to create a config file with the IP address range we wish to use with MetalLB. Create a yaml file with the following template as metallb-values.yaml:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=ln>1</span><span class=nt>configInline</span><span class=p>:</span><span class=w>
</span><span class=ln>2</span><span class=w>  </span><span class=nt>address-pools</span><span class=p>:</span><span class=w>
</span><span class=ln>3</span><span class=w>   </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span><span class=ln>4</span><span class=w>     </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>layer2</span><span class=w>
</span><span class=ln>5</span><span class=w>     </span><span class=nt>addresses</span><span class=p>:</span><span class=w>
</span><span class=ln>6</span><span class=w>     </span>- <span class=l>&lt;IP-RANGE-OR-CIDR&gt;</span><span class=w>
</span></code></pre></div><p>For the IP addresses you can either list addresses as a range 192.168.1.200-210 or with CIDR notation 192.168.1.0/24. The IP addresses MUST be in the same subnet as your Kubernetes nodes to work properly. It's advisable to remove these addresses from your DHCP scope, so that there are no IP address conflicts.</p>
<p>After you've configured your addresses, now we'll install MetalLB with Helm, and apply the config file above.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>helm repo add metallb https://metallb.github.io/metallb
<span class=ln>2</span>helm install metallb metallb/metallb -f metallb-values.yaml --create-namespace --namespace metallb
</code></pre></div><p>Verify that the metallb pods are running</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubectl get pods -n metallb
</code></pre></div><p>That's all we need to do to get MetalLB working! Now any service with type LoadBalancer will be able to use an IP from the IP pool we've allocated to MetalLB.</p>
<h2 id=ingresses>Ingresses</h2>
<p>At this point, you could just access your Kubernetes services by setting them to type LoadBalancer, but you'd have to remember each IP address and port to access them! A much better approach is to use Ingresses. If you've ever used a reverse proxy, that is, in a nutshell, what an Ingress is. If you're unfamiliar with a reverse proxy, it basically reroutes requests to an appropriate backend server.</p>
<h3 id=install-the-ingress-controller>Install the Ingress Controller</h3>
<p>We will need an Ingress Controller to manage our Ingress resources. We'll use ingress-nginx for this guide. We'll install it with helm. Run the following command:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>helm install ingress-nginx ingress-nginx <span class=se>\
</span><span class=ln>2</span><span class=se></span>--repo https://kubernetes.github.io/ingress-nginx <span class=se>\
</span><span class=ln>3</span><span class=se></span>--namespace ingress-nginx --create-namespace
</code></pre></div><p>Verify that the Ingress Controller pod is running</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubectl get pods -n ingress-nginx
</code></pre></div><h3 id=create-a-test-app>Create a Test App</h3>
<p>Before we create an Ingress, we need something to run! We'll run a simple web server for this guide. Copy the following into a file e.g web-server.yaml:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=ln> 1</span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span><span class=ln> 2</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span><span class=ln> 3</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=ln> 4</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln> 5</span><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span><span class=ln> 6</span><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln> 7</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=ln> 8</span><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span><span class=ln> 9</span><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span><span class=ln>10</span><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span><span class=ln>11</span><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln>12</span><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span><span class=ln>13</span><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=ln>14</span><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span><span class=ln>15</span><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln>16</span><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=ln>17</span><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span><span class=ln>18</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln>19</span><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>gcr.io/google-samples/node-hello:1.0</span><span class=w>
</span><span class=ln>20</span><span class=w>        </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span><span class=ln>21</span><span class=w>        </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span><span class=ln>22</span><span class=w></span><span class=nn>---</span><span class=w>
</span><span class=ln>23</span><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span><span class=ln>24</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span><span class=ln>25</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=ln>26</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln>27</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=ln>28</span><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span><span class=ln>29</span><span class=w>  </span>- <span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span><span class=ln>30</span><span class=w>    </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span><span class=ln>31</span><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span><span class=ln>32</span><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></code></pre></div><p>To deploy the web-server run:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubectl apply -f web-server.yaml
</code></pre></div><p>Verify the pod is running:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubectl get pod
</code></pre></div><h3 id=create-ingress-resource>Create Ingress Resource</h3>
<p>Currently, we can't access the webpage from outside the cluster, so we need to create an Ingress resource. To do so copy the following Ingress template into a file named ingress.yaml:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=ln> 1</span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span><span class=ln> 2</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span><span class=ln> 3</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=ln> 4</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln> 5</span><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span><span class=ln> 6</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=ln> 7</span><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span><span class=ln> 8</span><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span><span class=ln> 9</span><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>myk8swebserver.com</span><span class=w>
</span><span class=ln>10</span><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span><span class=ln>11</span><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span><span class=ln>12</span><span class=w>      </span>- <span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span><span class=ln>13</span><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/&#34;</span><span class=w>
</span><span class=ln>14</span><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span><span class=ln>15</span><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span><span class=ln>16</span><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln>17</span><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span><span class=ln>18</span><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></code></pre></div><p>Replace the host value with the FQDN you would like for this service. The logic behind this is that the Ingress controller will forward the request for "myk8swebserver.com" to the service that is running our web server on our cluster. Now apply the Ingress to our cluster:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubectl apply -f ingress.yaml
</code></pre></div><h4 id=hosts-file>Hosts file</h4>
<p>For this simple demonstration, we'll just use our hosts file to map "myk8swebserver.com" to the IP of our Ingress Controller.
To find the IP of our Ingress Controller, run:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>kubectl get svc -n ingress-nginx
</code></pre></div><p>The IP of our Ingress Controller will be under EXTERNAL-IP.</p>
<p>Edit your hosts file to include the following:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>&lt;INGRESS-IP&gt; myk8swebserver.com
</code></pre></div><h3 id=view-the-web-page>View the Web Page</h3>
<p>Now that we have our app running, our Ingress configured, and our hosts file set up. We should be able to type <a href=http://myk8swebserver.com>http://myk8swebserver.com</a> in a browser and see a "Hello Kubernetes!" message.</p>
<h3 id=enable-tls>Enable TLS</h3>
<p>You can also use an Ingress for TLS termination, as in, your Ingress Controller will handle TLS, while your backend uses HTTP. To set this up, there's a minor addition to our Ingress resource:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=ln> 1</span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span><span class=ln> 2</span><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span><span class=ln> 3</span><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span><span class=ln> 4</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln> 5</span><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span><span class=ln> 6</span><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span><span class=ln> 7</span><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span><span class=ln> 8</span><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span><span class=ln> 9</span><span class=w>    </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span><span class=ln>10</span><span class=w>      </span>- <span class=l>myk8swebserver.com</span><span class=w>
</span><span class=ln>11</span><span class=w>      </span><span class=c># secretName refers to the secret containing the tls certificate</span><span class=w>
</span><span class=ln>12</span><span class=w>      </span><span class=c># if it does not exist, ingress-nginx will use a self-signed certificate</span><span class=w>
</span><span class=ln>13</span><span class=w>      </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class=l>tls-secret </span><span class=w>
</span><span class=ln>14</span><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span><span class=ln>15</span><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>myk8swebserver.com</span><span class=w>
</span><span class=ln>16</span><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span><span class=ln>17</span><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span><span class=ln>18</span><span class=w>      </span>- <span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span><span class=ln>19</span><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/&#34;</span><span class=w>
</span><span class=ln>20</span><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span><span class=ln>21</span><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span><span class=ln>22</span><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span><span class=ln>23</span><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span><span class=ln>24</span><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></code></pre></div><p>Once you've added the tls section to your ingress.yaml, apply it again</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>kubectl apply -f ingress.yaml
</code></pre></div><p>Now you should be able to access your web server with <a href=https://myk8swebserver.com>https://myk8swebserver.com</a>. It will say there's an invalid certificate, because nginx ingress created a self-signed certificate since we didn't supply one,but traffic will still be encrypted.</p>
<p>For future reference, if you have an app that uses HTTPS on the backend, you will need to add this annotation to your Ingress:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>nginx.ingress.kubernetes.io/backend-protocol: &#34;HTTPS&#34;
</code></pre></div><h2 id=conclusion>Conclusion</h2>
<p>Congrats! You've successfully created your own Kubernetes cluster! I hope this guide has given you the knowledge necessary to configure your cluster.</p>
<h2 id=extras>Extras</h2>
<p>There are a few extras you might want on your cluster. They really make Kubernetes shine in my opinion.</p>
<h3 id=external-dns>external-dns</h3>
<p>External-DNS is able to synchronize our Services and Ingresses with our domain DNS records so we don't have to manually add them.</p>
<p><a href=https://github.com/bitnami/charts/tree/master/bitnami/external-dns>charts/bitnami/external-dns at master · bitnami/charts (github.com)</a></p>
<h3 id=cert-manager>cert-manager</h3>
<p>Cert-manager can request SSL certificates automatically for you when you add new hosts to your Ingress resources, or when your certificates expire. I have a guide on how to set this up: <a href=https://www.bsmithio.com/post/cert-manager-zerossl/>How to Set Up Cert-Manager with ZeroSSL on Kubernetes</a></p>
<h3 id=k8s_gateway>k8s_gateway</h3>
<p>K8s_gateway acts as a DNS server that you can use to access your internal Kubernetes services that you do not wish to expose via External-DNS.
<a href=https://github.com/ori-edge/k8s_gateway>k8s_gateway: A CoreDNS plugin to resolve all types of external Kubernetes resources (github.com)</a></p>
<h2 id=resources>Resources</h2>
<p>For further knowledge, here are some links to the documentation for the tools mentioned in this guide. The Kubernetes docs are a fantastic resource for learning more about the types of resources in Kubernetes</p>
<p><a href=https://kubernetes.github.io/ingress-nginx/>NGINX Ingress Controller</a><br>
<a href=https://helm.sh/docs/>Helm</a><br>
<a href=https://artifacthub.io/>Artifact Hub</a><br>
<a href=https://kubernetes.io/docs/reference/kubectl/overview/>Overview of kubectl</a><br>
<a href=https://kubernetes.io/docs/reference/setup-tools/kubeadm/>kubeadm</a><br>
<a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/>kubelet</a><br>
<a href=https://docs.docker.com/>Docker Documentation</a><br>
<a href=https://kubernetes.io/docs/home/>Kubernetes Documentation</a></p>
</div>
<div class=post_comments>
</div>
</article>
<aside class=sidebar>
<section class=sidebar_inner>
<h2>Brendan Smith</h2>
<div class=author_bio>
Technologist, tinkerer, perpetual student.
</div>
<h2 class=mt-4>Recent Posts</h2>
<ul class=flex-column>
<li>
<a href=/post/vlan-dhcp/ class=nav-link title="How to Set Up DHCP for Multiple VLANs with OPNsense and Windows Server 2019">How to Set Up DHCP for Multiple VLANs with OPNsense and Windows Server 2019</a>
</li>
<li>
<a href=/post/cert-manager-zerossl/ class=nav-link title="How to Set Up Cert-Manager with ZeroSSL on Kubernetes">How to Set Up Cert-Manager with ZeroSSL on Kubernetes</a>
</li>
<li>
<a href=/post/opnsense-dashboard/ class=nav-link title="How to Set Up an OPNsense Dashboard">How to Set Up an OPNsense Dashboard</a>
</li>
</ul>
<div>
<h2 class="mt-4 taxonomy" id=categories-section>Categories</h2>
<nav class=tags_nav>
<a href=/categories/technology/ class="post_tag button button_translucent" title=technology>
TECHNOLOGY
<span class=button_tally>4</span>
</a>
<a href=/categories/networking/ class="post_tag button button_translucent" title=networking>
NETWORKING
<span class=button_tally>1</span>
</a>
</nav>
</div>
<div>
<h2 class="mt-4 taxonomy" id=tags-section>Tags</h2>
<nav class=tags_nav>
<a href=/tags/kubernetes/ class="post_tag button button_translucent" title=kubernetes>
KUBERNETES
<span class=button_tally>2</span>
</a>
<a href=/tags/opnsense/ class="post_tag button button_translucent" title=opnsense>
OPNSENSE
<span class=button_tally>2</span>
</a>
<a href=/tags/windows-server/ class="post_tag button button_translucent" title=windows-server>
WINDOWS-SERVER
<span class=button_tally>1</span>
</a>
</nav>
</div>
</section>
</aside>
</div>
</main><svg width="0" height="0" class="hidden"><symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook"><path d="M437 0H75C33.648.0.0 33.648.0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352.0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter"><path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68.0 01-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043.0-1.924.366-2.643 1.078A3.56 3.56.0 008.766 5.383c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846.0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47.0.929.273 1.705.82 2.388a3.623 3.623.0 002.115 1.291c-.312.08-.641.118-.979.118-.312.0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652.0 002.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422.0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139.0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77.0 001.172-4.892v-.468a7.788 7.788.0 001.84-1.921 8.142 8.142.0 01-2.11.593z"/></symbol><symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V4e2c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5.0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar"><path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916.0 1e2v352c0 33.084 26.916 60 60 60h392c33.084.0 60-26.916 60-60V1e2c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028.0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028.0 20 8.972 20 20v48z"/><path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github"><path d="M255.968 5.329C114.624 5.329.0 120.401.0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384.0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008.0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992.0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584.0 34.368-.32 62.08-.32 70.496.0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab"><path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6.0L12.3 74.8z"/><path d="M12.3 74.7.5 111c-1 3.2.0 6.8 3 8.8l101.6 74-92.5-119z"/><path d="M105 193.7l-38.6-119h-54l92.7 119z"/><path d="M105 193.7l38.7-119H66.4l38.7 119z"/><path d="M105 193.7l38.7-119H198l-93 119z"/><path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/><path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6.0L198 74.8z"/></symbol><symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss"><circle cx="3.429" cy="20.571" r="3.429"/><path d="M11.429 24h4.57C15.999 15.179 8.821 8.001.0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"/><path d="M24 24C24 10.766 13.234.0.0.0v4.571c10.714.0 19.43 8.714 19.43 19.429z"/></symbol><symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin"><path d="M437 0H75C33.648.0.0 33.648.0 75v362c0 41.352 33.648 75 75 75h362c41.352.0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="arrow"><path d="M604.501 440.509 325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298.0 36.323s26.223 10.024 36.222.0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221.0 9.999-10.023 9.999-26.298.0-36.323z"/></symbol><symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly"><path d="M504.971 239.029 448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255.0-24 10.745-24 24s10.745 24 24 24h44c19.851.0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002.0 004e2 320v108c0 19.851-16.149 36-36 36h-44c-13.255.0-24 10.745-24 24s10.745 24 24 24h44c46.318.0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568.0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255.0 24-10.745 24-24S205.255.0 192 0h-44c-46.318.0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568.0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255.0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851.0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002.0 00112 192z"/></symbol><symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy"><path d="M23 2.75A2.75 2.75.0 0020.25.0H8.75A2.75 2.75.0 006 2.75v13.5A2.75 2.75.0 008.75 19h11.5A2.75 2.75.0 0023 16.25zM18.25 14.5h-7.5a.75.75.0 010-1.5h7.5a.75.75.0 010 1.5zm0-3h-7.5a.75.75.0 010-1.5h7.5a.75.75.0 010 1.5zm0-3h-7.5a.75.75.0 010-1.5h7.5a.75.75.0 010 1.5z"/><path d="M8.75 20.5A4.255 4.255.0 014.5 16.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752.0 001 5.25v16A2.752 2.752.0 003.75 24h12a2.752 2.752.0 002.75-2.75v-.75z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme"><path d="M284.286 256.002 506.143 34.144c7.811-7.811 7.811-20.475.0-28.285-7.811-7.81-20.475-7.811-28.285.0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285.0-7.81 7.811-7.811 20.475.0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475.0 28.285a19.938 19.938.0 0014.143 5.857 19.94 19.94.0 0014.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475.0-28.285L284.286 256.002z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu"><path d="M492 236H20c-11.046.0-20 8.954-20 20s8.954 20 20 20h472c11.046.0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954.0 96s8.954 20 20 20h472c11.046.0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046.0-20 8.954-20 20s8.954 20 20 20h472c11.046.0 20-8.954 20-20s-8.954-20-20-20z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram"><path d="M12 2.163c3.204.0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849.0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204.0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849.0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741.0 8.333.014 7.053.072c-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.668.072 4.948c.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24s3.668-.014 4.948-.072c4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403.0-6.162 2.759-6.162 6.162S8.597 18.163 12 18.163s6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zM12 16c-2.209.0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796.0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795.0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="youtube"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23.0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23.0C23.512 20.55 23.971 18.196 24 12c-.029-6.185-.484-8.549-4.385-8.816zM9 16V8l8 3.993L9 16z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow"><path d="M21 27v-8h3v11H0V19h3v8h18z"/><path d="M17.1.2 15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8 13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"/></symbol></svg>
<footer class=footer>
<div class="footer_inner wrap pale">
<img src=/icons/apple-touch-icon.png class="icon icon_2 transparent" alt=bsmithio>
<p>Copyright&nbsp;<span class=year></span>&nbsp;BSMITHIO. All Rights Reserved</p><a class=to_top href=#documentTop><svg class="icon"><use xlink:href="#arrow"/></svg>
</a>
</div>
</footer>
<script type=text/javascript src=/js/bundle.min.061d04727b51b0a8fafe2f15b9370a961f33306e7af52abd00d69c906f5d825f1599306159d7756d7d2b4f359767a170625ae541d1f37d05c1daa4d5c7feec25.js integrity="sha512-Bh0EcntRsKj6/i8VuTcKlh8zMG569Sq9ANackG9dgl8VmTBhWdd1bX0rTzWXZ6FwYlrlQdHzfQXB2qTVx/7sJQ==" crossorigin=anonymous></script>
</body>
</html>